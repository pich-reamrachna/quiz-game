:global(body) {
		margin: 0;
		padding: 0;
		font-family: 'Noto Sans JP', sans-serif;
		background: #07050f;
	}

.page {
		min-height: 100vh;
		display: flex;
		align-items: center;
		justify-content: center;
		background: radial-gradient(ellipse at 50% 50%, #120820 0%, #07050f 70%);
		position: relative;
		overflow: hidden;
	}

.bg-grid {
		position: absolute;
		inset: 0;
		background-image:
			linear-gradient(rgba(180, 100, 255, 0.05) 1px, transparent 1px),
			linear-gradient(90deg, rgba(180, 100, 255, 0.05) 1px, transparent 1px);
		background-size: 48px 48px;
		pointer-events: none;
	}

.card {
		position: relative;
		z-index: 1;
		background: rgba(15, 8, 30, 0.75);
		border: 1px solid rgba(180, 100, 255, 0.2);
		border-radius: 28px;
		padding: 3rem 4rem;
		max-width: 92%;
		width: 700px;
		min-height: 600px; 
		backdrop-filter: blur(24px);
		box-shadow:
			0 0 80px rgba(140, 60, 255, 0.12),
			0 2px 0 rgba(255, 255, 255, 0.05) inset;
	}

.top-bar {
		position: relative; 
		display: flex;
		align-items: center;
		justify-content: space-between;
		margin-bottom: 0.75rem;
		height: 40px;
	}

.q-num {
		font-family: 'Zen Dots', cursive;
		font-size: 1.3rem;
		color: #c97fff;
		max-width: 38%; 
	}

	.q-total {
		font-size: 0.85rem;
		color: #5a4a7a;
	}

.score-badge {
		position: absolute; 
		left: 50%;
		top: 50%;
		transform: translate(-50%, -50%);
		z-index: 1;
		pointer-events: none;
		background: rgba(180, 100, 255, 0.12);
		border: 1px solid rgba(180, 100, 255, 0.25);
		border-radius: 99px;
		padding: 0.25rem 1rem;
		font-family: 'Zen Dots', cursive;
		font-size: 0.9rem;
		color: #c97fff;
	}

.timer-wrap {
		display: flex;
		align-items: baseline;
		gap: 3px;
		max-width: 38%;
	}

.timer-num {
		font-family: 'Zen Dots', cursive;
		font-size: 1.9rem;
		line-height: 1;
		transition: color 0.3s;
	}

.timer-label {
		font-size: 0.7rem;
		color: #5a4a7a;
		letter-spacing: 0.1em;
	}

.timer-bar-track {
		height: 5px;
		background: rgba(255, 255, 255, 0.07);
		border-radius: 99px;
		overflow: hidden;
		margin-bottom: 1.75rem;
	}

.timer-bar-fill {
		height: 100%;
		border-radius: 99px;
		transition: width 1s linear, background 0.3s;
		box-shadow: 0 0 8px currentColor;
	}

.prompt-box {
		background: rgba(255, 255, 255, 0.04);
		border: 1px solid rgba(255, 255, 255, 0.07);
		border-radius: 18px;
		padding: 1.5rem 1.5rem 1.75rem;
		text-align: center;
		margin-bottom: 1.25rem;
	}

.prompt-label {
		margin: 0 0 0.5rem;
		font-size: 0.68rem;
		letter-spacing: 0.2em;
		text-transform: uppercase;
		color: #5a4a7a;
	}

.prompt-text {
		margin: 0;
		font-size: 1.6rem;
		color: #fff;
		font-weight: 700;
		letter-spacing: 0.01em;
	}

.choices {
		display: flex;
		flex-direction: column;
		gap: 0.6rem;
		margin-bottom: 1.25rem;
	}

.choice-btn {
		display: flex;
		align-items: center;
		gap: 1rem;
		background: rgba(255, 255, 255, 0.04);
		border: 1px solid rgba(180, 100, 255, 0.18);
		border-radius: 14px;
		padding: 0.9rem 1.1rem;
		color: #d0c0f0;
		font-size: 1.05rem;
		font-family: 'Noto Sans JP', sans-serif;
		cursor: pointer;
		text-align: left;
		transition: background 0.15s, border-color 0.15s, transform 0.1s, opacity 0.2s;
		position: relative;
	}

.choice-btn:hover:not(:disabled) {
		background: rgba(160, 96, 224, 0.12);
		border-color: #a060e0;
		transform: translateX(5px);
	}

.choice-btn:active:not(:disabled) { transform: scale(0.98); }

.choice-btn.correct {
		background: rgba(34, 197, 94, 0.15);
		border-color: #22c55e;
		color: #86efac;
	}

.choice-btn.wrong {
		background: rgba(239, 68, 68, 0.15);
		border-color: #ef4444;
		color: #fca5a5;
	}

.choice-btn.dim { opacity: 0.35; }

.choice-label {
		display: inline-flex;
		align-items: center;
		justify-content: center;
		width: 30px;
		height: 30px;
		border-radius: 9px;
		background: rgba(180, 100, 255, 0.18);
		color: #c97fff;
		font-family: 'Zen Dots', cursive;
		font-size: 0.85rem;
		flex-shrink: 0;
		transition: background 0.15s;
	}

.choice-btn.correct .choice-label {
		background: rgba(34, 197, 94, 0.25);
		color: #86efac;
	}

.choice-btn.wrong .choice-label {
		background: rgba(239, 68, 68, 0.25);
		color: #fca5a5;
	}

.choice-text { flex: 1; }

.choice-icon {
		font-size: 1.1rem;
		font-weight: 700;
	}

.player-tag {
		margin: 0;
		text-align: center;
		font-size: 0.75rem;
		color: #4a3a6a;
		letter-spacing: 0.05em;
	}
.fw-canvas-full {
    position: fixed;
    inset: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 998;
}

/* ── Fireworks inside popup ─────────────── */
.fw-canvas-inner {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
    border-radius: 24px;
}

/* ── Popup overlay ──────────────────────── */
.popup-overlay {
    position: fixed;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 999;
}

/* ── Popup card ─────────────────────────── */
.popup-card {
    position: relative;
    overflow: hidden;
    background: rgba(15, 8, 30, 0.95);
    border: 1px solid rgba(180, 100, 255, 0.3);
    border-radius: 24px;
    padding: 2.5rem 3rem;
    text-align: center;
    width: 90%;
    max-width: 380px;
    box-shadow: 0 0 60px rgba(140, 60, 255, 0.3);
}

.popup-title {
    position: relative;
    z-index: 2;
    font-family: 'Zen Dots', cursive;
    font-size: 1.8rem;
    color: #c97fff;
    margin: 0 0 1rem;
}

.popup-img {
    position: relative;
    z-index: 2;
    width: 100%;
    height: 160px;
    object-fit: cover;
    border-radius: 12px;
    margin-bottom: 1rem;
}

.popup-msg {
    position: relative;
    z-index: 2;
    color: #a060e0;
    font-size: 1rem;
    margin: 0 0 2rem;
}

.popup-btn {
    position: relative;
    z-index: 2;
    width: 100%;
    padding: 0.9rem;
    background: linear-gradient(135deg, #7b1fe8, #c97fff);
    border: none;
    border-radius: 14px;
    color: #fff;
    font-family: 'Zen Dots', cursive;
    font-size: 0.9rem;
    letter-spacing: 0.08em;
    cursor: pointer;
    transition: filter 0.15s, transform 0.15s;
}

.popup-btn:hover {
    filter: brightness(1.1);
    transform: translateY(-2px);
}

.score-reveal {
    font-family: 'Zen Dots', cursive;
    font-size: 3rem;
    color: #a600ff;
    text-shadow:
        0 0 40px rgba(157, 0, 255, 0.8),
        0 0 80px rgba(157, 0, 255, 0.8);
    animation: zoomPulse 1s ease-in-out infinite;
}

@keyframes zoomPulse {
    0%, 100% { transform: scale(1); }
    50%       { transform: scale(1.2); }
}